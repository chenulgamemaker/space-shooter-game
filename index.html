# Create a ready-to-run spaceship shooter project with assets and zip it up.
# We'll generate simple placeholder sprites (PNG) and WAV sounds, plus index.html, game.js, README.md.

import os, io, zipfile, math, wave, struct, random
from PIL import Image, ImageDraw, ImageFont

base_dir = "/mnt/data/space-shooter-game"
assets_dir = os.path.join(base_dir, "assets")
os.makedirs(assets_dir, exist_ok=True)

# Helper: create simple WAV tone
def write_tone_wav(path, freq=440.0, duration=0.15, volume=0.3, samplerate=44100):
    nframes = int(duration * samplerate)
    wav = wave.open(path, 'w')
    wav.setnchannels(1)
    wav.setsampwidth(2)  # 16-bit
    wav.setframerate(samplerate)
    for i in range(nframes):
        t = i / samplerate
        # simple sine with a short decay
        amp = volume * (1.0 - min(t / duration, 1.0))
        sample = int(amp * 32767 * math.sin(2 * math.pi * freq * t))
        wav.writeframes(struct.pack('<h', sample))
    wav.close()

# Helper: noise burst for explosion
def write_noise_wav(path, duration=0.25, volume=0.35, samplerate=44100):
    nframes = int(duration * samplerate)
    wav = wave.open(path, 'w')
    wav.setnchannels(1)
    wav.setsampwidth(2)
    wav.setframerate(samplerate)
    for i in range(nframes):
        # exponential decay noise
        t = i / samplerate
        decay = math.exp(-6 * t / duration)
        sample = int(volume * decay * random.uniform(-1, 1) * 32767)
        wav.writeframes(struct.pack('<h', sample))
    wav.close()

# Create sounds
write_tone_wav(os.path.join(assets_dir, "shoot.wav"), freq=880, duration=0.08, volume=0.3)
write_noise_wav(os.path.join(assets_dir, "explosion.wav"), duration=0.35, volume=0.4)
write_tone_wav(os.path.join(assets_dir, "boss_hit.wav"), freq=220, duration=0.12, volume=0.35)

# Helper to draw simple pixel-art rectangles/triangles
def save_png(path, size=(48,48), bg=(0,0,0,0), draw_fn=None):
    img = Image.new("RGBA", size, bg)
    d = ImageDraw.Draw(img)
    if draw_fn:
        draw_fn(d, size)
    img.save(path, format="PNG")

# Player sprite: blue triangle spaceship
def draw_player(d, size):
    w,h = size
    hull = [(w*0.5, h*0.1),(w*0.9, h*0.9),(w*0.1,h*0.9)]
    d.polygon(hull, fill=(80,160,255,255), outline=(255,255,255,200))
    d.rectangle([w*0.45,h*0.45,w*0.55,h*0.8], fill=(255,255,255,180))

# Enemy sprite: green saucer
def draw_enemy(d, size):
    w,h=size
    d.ellipse([w*0.15,h*0.35,w*0.85,h*0.75], fill=(120,255,120,255), outline=(255,255,255,200))
    d.rectangle([w*0.25,h*0.5,w*0.75,h*0.6], fill=(60,200,60,255))
    d.ellipse([w*0.4,h*0.25,w*0.6,h*0.45], fill=(255,255,255,220))

# Boss sprite: big purple mothership
def draw_boss(d, size):
    w,h=size
    d.rounded_rectangle([w*0.05,h*0.25,w*0.95,h*0.85], radius=12, fill=(200,120,255,255), outline=(255,255,255,220))
    d.ellipse([w*0.35,h*0.15,w*0.65,h*0.45], fill=(255,255,255,230))
    # engine glows
    for i in range(4):
        x0=w*(0.2+0.2*i); x1=x0+w*0.12
        d.ellipse([x0,h*0.8,x1,h*0.95], fill=(255,80,80,220))

# Bullet sprite (small yellow)
def draw_bullet(d, size):
    w,h=size
    d.rectangle([w*0.4,h*0.1,w*0.6,h*0.9], fill=(255,230,90,255), outline=(255,255,255,200))

# Rocket sprite (red)
def draw_rocket(d, size):
    w,h=size
    d.rectangle([w*0.4,h*0.2,w*0.6,h*0.85], fill=(255,80,80,255), outline=(255,255,255,220))
    d.polygon([(w*0.5,h*0.05),(w*0.65,h*0.25),(w*0.35,h*0.25)], fill=(255,120,120,255))

# Laser beam sprite (cyan bar)
def draw_laser(d, size):
    w,h=size
    d.rounded_rectangle([w*0.2,h*0.05,w*0.8,h*0.95], radius=6, fill=(80,255,255,240), outline=(255,255,255,220))

# Generate sprites
save_png(os.path.join(assets_dir, "player.png"), (64,64), draw_fn=draw_player)
save_png(os.path.join(assets_dir, "enemy.png"), (48,36), draw_fn=draw_enemy)
save_png(os.path.join(assets_dir, "boss.png"), (160,120), draw_fn=draw_boss)
save_png(os.path.join(assets_dir, "bullet.png"), (10,24), draw_fn=draw_bullet)
save_png(os.path.join(assets_dir, "rocket.png"), (16,36), draw_fn=draw_rocket)
save_png(os.path.join(assets_dir, "laser.png"), (18,40), draw_fn=draw_laser)

# index.html content
index_html = """<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Space Shooter</title>
  <style>
    html, body { margin:0; padding:0; background:#000; height:100%; }
    #wrap { display:flex; align-items:center; justify-content:center; height:100%; }
    canvas { background: radial-gradient(ellipse at top, #0b0b23, #000 60%); box-shadow: 0 0 30px #0ff3; }
    #hud {
      position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
      color: #fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
      text-shadow: 0 0 6px #0ff;
      display:flex; gap:16px; align-items:center; font-weight:600;
    }
    .pill { padding:6px 10px; background:#111a; border:1px solid #0ff5; border-radius:12px; }
    #bossbarwrap { position: fixed; top: 50px; left: 50%; transform: translateX(-50%); width: 70%; height: 12px; border-radius:6px; background:#222a; border:1px solid #f0f; display:none; }
    #bossbar { height:100%; width:100%; background: linear-gradient(90deg, #f0f, #a0f); border-radius:6px; }
    #overlay { position: fixed; inset:0; display:none; align-items:center; justify-content:center; background:#000a; color:#fff; font-size:32px; font-weight:700; flex-direction:column; gap:12px;}
    #overlay .btn { font-size:18px; padding:10px 16px; background:#0b0; border:none; color:#fff; cursor:pointer; border-radius:10px; }
    a { color:#0ff; }
  </style>
</head>
<body>
  <div id="hud">
    <div class="pill">Kills: <span id="kills">0</span></div>
    <div class="pill">Weapon: <span id="weapon">Basic Gun (1)</span></div>
    <div class="pill">Use 1‚Äì6 to switch</div>
  </div>
  <div id="bossbarwrap"><div id="bossbar"></div></div>
  <div id="overlay">
    <div id="overlay-text">You win!</div>
    <button class="btn" onclick="restart()">Play Again</button>
    <div style="font-size:14px;">Tip: Press numbers to switch unlocked weapons.</div>
  </div>
  <div id="wrap">
    <canvas id="gameCanvas" width="900" height="600"></canvas>
  </div>

  <!-- Sounds -->
  <audio id="sndShoot" src="assets/shoot.wav" preload="auto"></audio>
  <audio id="sndExplosion" src="assets/explosion.wav" preload="auto"></audio>
  <audio id="sndBossHit" src="assets/boss_hit.wav" preload="auto"></audio>

  <script src="game.js"></script>
</body>
</html>
"""

 


## üìÅ Project Structure
